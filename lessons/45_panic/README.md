
# Изучаем язык Go #45 – Panic

Паника – это встроенная функция в Go, которая останавливает ход выполнение программы и завершает её. Также эта функция 
распечатывает всю цепочку вывозов, которые привели к панике, чтобы было проще понять, из-за чего возникла ошибка.

Несмотря на то, что завершение программы вызванное паникой можно перехватить и заставить программу работать дальше, не 
стоит воспринимать Panic аналогом Exception в других языках. Аналогом Exception в Go являются 
[ошибки](https://github.com/WalkWeb/go-lesson-ru/tree/master/lessons/24_errors)

Паника вызывается следующим образом:

```
    panic("Do panic")
```

Добавим код ниже, чтобы убедиться, что он не будет вызван:

```
    fmt.Println("This code will not be executed")
```

Выполнив программу получим:

```
$ go run panic.go 
panic: Do panic

goroutine 1 [running]:
main.main()
        /var/www/github_go/lessons/45_panic/panic.go:10 +0x39
exit status 2
```

Программа завершилась с информацией о том, какая функция, файл и строка вызвала проблему, а сообщение 
`This code will not be executed`, как и ожидалось, не было выведено.

Паника может быть вызвана не только вызовом вручную, но и другими ошибками базовых механик, например обращением к 
несуществующему индексу массива:

```
    arr := [5]int{}
    arr[10] = 100
```

Выполнив этот код получим:

```
$ go run panic.go 
# command-line-arguments
./panic.go:16:8: invalid array index 10 (out of bounds for 5-element array)
```

Что интересно отметить, что ошибка с обращением к несуществующему индексу массива произойдет до вызова 
`panic("Do panic")`. Это говорит о том, что такая ошибка произошла еще на уровне компиляции программы, до её 
фактического выполнения. И это легко проверить. Закомментируйте строки с массивом и выполните компиляцию программы:

```
$ go build panic.go
``` 

Она успешно произойдет. Теперь раскомментируйте строки с массивом и попробуйте сделать тоже самое:

```
$ go build panic.go 
# command-line-arguments
./panic.go:16:8: invalid array index 10 (out of bounds for 5-element array)
```

Теперь мы получили ошибку уровня panic.

____

В этом уроке вы узнали:

- Что такое Panic в Golang

Читайте также:

- Официальную документацию по [Panic](https://go.dev/blog/defer-panic-and-recover)
