
# Изучаем язык Go #3 - Переменные

Как и раньше, создаем файл `variables.go` для нового урона и пишем там базовый код:

```

package main

import "fmt"

func main() {

}

```

Чтобы работать с переменными в Go их необходимо объявить через `var`. Добавьте указанный код внутрь функции `main`:

```
    var a = "string"
    fmt.Println(a)
```

Выполнив написанный код мы получим:

```
$ go run variables.go 
string
```

Созданная переменная `a` получила тип `string` исходя из заданного значения, но можно указать тип вручную:

```
    var b string = "string again"
    fmt.Println(b)
```

При этом, если попытаться написать так:

```
var b string = 123
```

То получим ошибку:

```
$ go run variables.go 
# command-line-arguments
./variables.go:11:9: cannot use 123 (type untyped int) as type string in assignment
```

Это происходит по тому, что Go не позволяет менять тип переменной. Это правильный подход в плане ожидаемости работы 
написанного кода и избавляет от бесчисленного варианта ошибок в будущем, когда в переменной, в которой мы ожидали 
integer, вдруг оказался boolean и весь код сломался.

Также переменную можно создать не указывая ей значение. В этом случае переменная получит `zero value`:

```
    var c string
    fmt.Println(c)
```

Для типа string это пустая строка. Можно убедиться посмотрев вывод `fmt.Println(c)` - выведет пустую строку (что 
визуально будет выглядеть как простой перенос строки, т.к. к пустой строке `fmt.Println` добавляет перенос строки.

Переменные одного типа можно объявлять через запятую:

```
    var d, e int = 1, 2
    fmt.Println(d, e)
```

При этом `d` будет равно `1`, а `e` = `2`

Объявление переменной типа integer по умолчанию будет равно 0:

```
    var f int
    fmt.Println(f) // 0
```

А переменные типа boolean по умолчанию будут ложными:

```
    var f int
    fmt.Println(f) // false
```

Также есть вариант объявления переменной через оператор `:=`:

```
    s := "apple"
    fmt.Println(s)
```

Это рабочий вариант, единственное условие - работать так будет только внутри функции. Если попробовать объявить 
переменную таким образом глобально - будет ошибка. А через `var` ошибки не будет.

В заключение добавим, что переменную можно объявить только один раз. Если к всему написанному выше коду добавить:

````
var x = true
````

И попытаться выполнить программу - получим ошибку:

```
$ go run variables.go 
# command-line-arguments
./variables.go:29:9: x redeclared in this block
        previous declaration at ./variables.go:23:9
```

Которая говорит о том, что переменная `x` уже объявлена.

____


В этом уроке вы узнали:

1. Различные способы объявления переменных
