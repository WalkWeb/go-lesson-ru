
# Изучаем язык Go #36 – Tickers

Tickers похожи в своей работе с [таймерами](https://github.com/WalkWeb/go-lesson-ru/tree/master/lessons/35_timers), это
специализированные каналы, которые отправляют сообщения с указанной периодичностью. И также как и таймеры их можно 
остановить вызвав метод `Stop()`

В этом уроке рассмотрим пример работы с тикером, который генерирует сообщения каждые 500 миллисекунд. А затем, через
1600 миллисекунд его работа останавливается.

Синтаксис создания тикера прост:

```
	ticker := time.NewTicker(time.Millisecond * 500)
```

Также создадим канал по которому будем останавливать работу `select`:

```
	done := make(chan bool)
```

Создаем функционал слушания каналов в отдельной горутине:

```
	go func() {
		for {
			select {
			case <-done:
				return
			case t := <-ticker.C:
				fmt.Println("Tick at", t)
			}
		}
	}()
```

И завершаем работу:

```
	time.Sleep(time.Millisecond * 1600)
	ticker.Stop()
	done <- true
	fmt.Println("Ticker stopped")
```

Запустив программу получим:

```
$ go run tickers.go 
Tick at 2022-07-04 15:47:41.950780482 +0300 MSK m=+0.500728791
Tick at 2022-07-04 15:47:42.450401272 +0300 MSK m=+1.000349571
Tick at 2022-07-04 15:47:42.951105397 +0300 MSK m=+1.501053707
Ticker stopped

```

Все как и ожидалось - тикер генерировал сообщения каждые 500 миллисекунд, и после третьего сообщения мы его остановили.

____

В этом уроке вы узнали:

1. Как использовать тикеры
