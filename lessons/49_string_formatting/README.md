
# Изучаем язык Go #49 – Форматирование строк

Golang предоставляет широкий функционал форматирования строк, ниже мы рассмотрим несколько распространенных задач.

Для форматирования базовых значений можно использовать `%v`:

```
    fmt.Printf("struct1: %v\n", 10) // struct1: {1 2}
```

Если используется структура, то использование `%+v` добавит название полей структуры:

```
    fmt.Printf("struct2: %+v\n", p) // struct2: {x:1 y:2}
```

Использование `%#v` распечатает ту часть кода, которое создает указанное значение:

```
    fmt.Printf("struct3: %#v\n", p) // struct3: main.point{x:1, y:2}
```

Для вывода типа значения используйте `%T`:

```
    fmt.Printf("type: %T\n", p) // type: main.point
```

Для вывода значений типа boolean используйте `%t`:

```
    fmt.Printf("bool: %t\n", true) // bool: true
```

Существует множество способов форматирования целых чисел. Для стандартного вывода в десятиричном формате 
используйте `%d`:

```
    fmt.Printf("int: %d\n", 10) // int: 10
```

Для вывода целого числа в бинарном (двоичном) виде используйте `%b`:

```
    fmt.Printf("bin: %b\n", 10) // bin: 1010
```

Для вывода целого числа в шестнадцатиричном формате используйте `%x`. Обратите внимание, что буква `a` которую мы 
получаем, это обозначения числа. Так как цифр не хватает для отображения всех вариантов от 0 до 15, используют буквы: 
10: a, 11: b, 12: c, 13: d, 14: e, 15: f.

```
    fmt.Printf("hex: %x\n", 10) // hex: a
```

Для вывода числа с плавающей запятой есть несколько вариантов. Стандартный через использование `%f`:

```
    fmt.Printf("float1: %f\n", 10.5) // float1: 10.500000
```

Также есть вариант вывода в экспоненциальном виде (в двух немного отличающихся вариантах):

```
    fmt.Printf("float2: %e\n", 10.5) // float2: 1.050000e+01
    fmt.Printf("float3: %E\n", 10.5) // float3: 1.050000E+01
```

Для вывода символа, соответствующего указанному числу, используйте `%c`:

```
    fmt.Printf("char: %c\n", 33) // char: !
```

Для базового вывода строки используйте `%s`:

```
    fmt.Printf("string1: %s\n", "apple") // string1: apple
```

Чтобы вывести строку в качках, как в исходном коде Goland, используйте `%q`:

```
    fmt.Printf("string2: %q\n", "apple") // string2: "apple"
```

Используя `%x`, который мы уже рассматривали раньше с целыми числами, можно использовать и со строками, для вывода 
строки в формате шестнадцеричного числа, с двумя байтами (двумя шестнадцеричными числами) на символ:

```
    fmt.Printf("string3: %x\n", "apple") // string3: 6170706c65
```

Для вывода указателя (ссылки на область памяти, где хранятся данные) используйте `%p`. Число будет каждый раз разным,
потому что каждый раз данные записываются в разные участки памяти:

```
    fmt.Printf("pointer: %p\n", &p) // pointer: 0xc000014130
```

Иногда нужно вывести числа таким образом, чтобы регулировать их длину отображения. В этом случае используйте запись вида
`%6d`, где 6 - это количество символов, которое должно занимать число. Если число не занимает всю длину, левая часть
будет дополнена пробелами:

```
    fmt.Printf("width1: |%6d|%6d|\n", 12, 345) // width1: |    12|   345|
```

Аналогично, но для чисел с плавающей запятой используйте `%6.2f`:

```
    fmt.Printf("width2: |%6.2f|%6.2f|\n", 1.2, 3.45) // width2: |  1.20|  3.45|
```

Чтобы выровнять числа по левую сторону (т.е. чтобы пробелы добавлялись справа) используйте знак `-`:

```
    fmt.Printf("width3: |%-6.2f|%-6.2f|\n", 1.2, 3.45) // width3: |1.20  |3.45  |
```

Когда нужно не выводить отформатированный вариант, а поместить в переменную, используйте `fmt.Sprintf()`:

```
    s := fmt.Sprintf("sprintf: %s", "string")
    fmt.Println(s) // sprintf: string
```

Также можно форматировать и выводить в `io.Writes` (за исключением `os.Stdout`) используя `fmt.Fprintf()`:

```
    fmt.Fprintf(os.Stderr, "io: an %s\n", "error") // io: an error
```

____

В этом уроке вы узнали:

- Наиболее распространенные варианты форматирования строк в Golang
